# Icons

## Browser Favicon
The master used for browser favicons was obtained from [flatiron](https://www.flaticon.com/free-icon/garage_1571928) and is held in this folder as _garage.svg_. This was then edited with [Inkscape](https://inkscape.org/) to match color theme of homekit-ratgdo, the edited version is in this folder as _garage-512x512.svg_.

All favicon image/png files of 48x48 pixels or larger were generated by exporting from Inkscape.

There is also a _garage-64x64.svg_ which is the SVG scaled to a 64 pixel viewport and with the icon expanded to fill the full available space (no transparent white-space around the icon). The favicon image/png files of 32x32 and 16x16 were generated from this svg and then subsequently edited with [Pixen](https://pixenapp.com/) to improve icon quality at these low resolutions.

The _favicon.ico_ file combines the 48x48, 32x32 and 16x16 images into a single file, this was done with [ImageMagick](https://imagemagick.org) with the command `convert garage-48x48.png garage-32x32.png garage-16x16.png ../favicon.ico`

The _favicon.svg_ file is the same as _garage-512x512.svg_ after being minimized at [SVGOMG](https://svgomg.net/) to save space in the embedded firmware.

The _apple-touch-icon.png_ file was created by dragging the 512x512 svg file into [Apple Icon Composer](https://developer.apple.com/icon-composer/), scaling by 150% (as composer uses 1024x1024) and applying a mild gradient to the background (as transparent backgrounds should not be used for these icons). This was exported as a 1024x1024 PNG and loaded into Apple Preview where it was resized to 180x180 and then exported as PNG with 8-Bits/Channel depth.

These icons are incorporated into our firmware by including these lines in our html
```html
<link rel="manifest" href="/site.webmanifest?v=CRC-32" />
<link rel="icon" type="image/svg+xml" sizes="any" href="/favicon.svg?v=CRC-32" />
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png?v=CRC-32" />
<link rel="icon" type="image/png" sizes="64x64" href="/favicon-64x64.png?v=CRC-32" />
<link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png?v=CRC-32" />
<link rel="icon" type="image/x-icon" sizes="16x16 32x32 48x48" href="/favicon.ico?v=CRC-32" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=CRC-32" />
```

> [!NOTE]
> When changing favicon or apple-touch-icon, you must delete the homepage shortcut _and_ erase the Safari browser cache so the browser or mobile device will download any changed icons.

## Acknowledgements & Credits.

[Garage icons](https://www.flaticon.com/free-icons/garage) created by Creative Squad - Flaticon